@model List<string> <!-- Cambiar a List<string> -->
@{
    ViewData["Title"] = "BACKUPS";
}

<div class="container mt-4">
    <h2>@ViewData["Title"]</h2>

    <!-- Lista de Usuarios -->
    <div class="card mt-3">
        <!-- APARTADO 1: GESTIÓN DE BACKUPS (RESPALDO COMPLETO) -->
        <div class="card mt-4">
            <div class="card-header bg-info text-white">
                <h4>Gestión de Backups (Respaldos Completos)</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <!-- GENERAR BACKUP COMPLETO -->
                    <div class="col-md-6">
                        <h5>Generar Backup Completo</h5>
                        <form asp-controller="Backup" asp-action="Export" method="post">
                            <div class="form-group">
                                <label>Base de Datos:</label>
                                <select name="database" class="form-control" required>
                                    <option value="">Seleccione una base de datos</option>
                                    @foreach (var db in Model)
                                    {
                                        <option value="@db">@db</option> <!-- db es string, no BsonDocument -->
                                    }
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary mt-2">Generar Backup</button>
                        </form>
                    </div>
                    <!-- IMPORTAR BACKUP COMPLETO -->
                    <div class="col-md-6">
                        <h5>Importar Backup Completo</h5>
                        <form asp-controller="Backup" asp-action="Import" method="post" enctype="multipart/form-data">
                            <div class="form-group">
                                <label>Base de Datos:</label>
                                <select name="database" class="form-control" required>
                                    <option value="">Seleccione una base de datos</option>
                                    @foreach (var db in Model)
                                    {
                                        <option value="@db">@db</option>
                                    }
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Archivo ZIP:</label>
                                <input type="file" name="file" class="form-control-file" accept=".zip" required />
                            </div>
                            <button type="submit" class="btn btn-success mt-2">Importar Backup</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>